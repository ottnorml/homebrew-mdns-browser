name: 'Close stale PRs'

on:
  schedule:
    - cron: '30 1 * * *'

concurrency:
  group: stale-${{ github.repository }}
  cancel-in-progress: false

permissions:
  actions: write
  issues: write
  pull-requests: write

jobs:
  stale:
    runs-on: ubuntu-latest
    timeout-minutes: 10
    steps:
      - uses: actions/stale@b5d41d4e1d5dceea10e7104786b73624c18a190f # v10.2.0
        with:
          days-before-stale: 14
          stale-pr-message: 'This pull request has been marked as stale because it has been inactive for more than 14 days. Please update this pull request or it will be automatically closed in 14 days.'
          stale-pr-label: 'stale'
          exempt-pr-labels: 'work-in-progress'
          days-before-close: 14
          close-pr-message: 'This pull request has been automatically closed because it has been inactive. Please reopen if you still intend to submit this pull request.'
